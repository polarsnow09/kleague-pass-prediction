# í”„ë¡¬í”„íŠ¸ ë¡œê·¸ #05: í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ë° ê°€ì¤‘ì¹˜ ìµœì í™”

## ë‚ ì§œ
2025-12-17 ~ 2025-12-22

## ëª©ì 
Phase 3 ì´í›„ ì¶”ê°€ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•œ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ë° ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ìµœì í™”

---

## ë°°ê²½

### Phase 3 í˜„í™©
```
XGBoost v3:  18.91m
LightGBM v3: 18.82m
CatBoost v3: 18.82m
ì•™ìƒë¸” v3:   16.98m (LB)
ê°€ì¤‘ì¹˜:      [0.2, 0.4, 0.4]
```

### ëª©í‘œ
- í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ìœ¼ë¡œ ê°œë³„ ëª¨ë¸ ì„±ëŠ¥ í–¥ìƒ
- ê°€ì¤‘ì¹˜ ìµœì í™”ë¡œ ì•™ìƒë¸” ì„±ëŠ¥ í–¥ìƒ
- LB 16.9 ì´í•˜ ë‹¬ì„±

---

## Phase 1: ìˆ˜ë™ í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°ì •

### í”„ë¡¬í”„íŠ¸ 1-1: XGBoost íŠœë‹ ì „ëµ

**ì…ë ¥:**
```
XGBoost v3ì˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
í˜„ì¬ í•˜ì´í¼íŒŒë¼ë¯¸í„°:
- max_depth: 6
- learning_rate: 0.1
- n_estimators: 100

ì–´ë–¤ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •í•´ì•¼ í• ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
íŠœë‹ ìš°ì„ ìˆœìœ„:
1. n_estimators: 100 â†’ 300 (í•™ìŠµ ê°•í™”)
2. learning_rate: 0.1 â†’ 0.05 (ê³¼ì í•© ë°©ì§€)
3. max_depth: 6 â†’ 8 (ë³µì¡ë„ ì¦ê°€)

ê·¼ê±°:
- CV 18.91mì€ ì•„ì§ ê°œì„  ì—¬ì§€ ìˆìŒ
- zone_x_encoded ì˜ì¡´ë„(80%) ë‚®ì¶°ì•¼ í•¨
- ë” ë§ì€ íŠ¸ë¦¬ë¡œ ì¼ë°˜í™” í–¥ìƒ
```

**ì¡°ì • ê²°ê³¼:**
```python
# train_model.py ìˆ˜ì •
params = {
    'max_depth': 8,           # 6 â†’ 8
    'learning_rate': 0.05,    # 0.1 â†’ 0.05
    'n_estimators': 300,      # 100 â†’ 300
    'random_state': 42
}

ê²°ê³¼: 18.91m â†’ 18.87m (-0.04m ê°œì„ ) âœ…
```

---

### í”„ë¡¬í”„íŠ¸ 1-2: LightGBM íŠœë‹ ì „ëµ

**ì…ë ¥:**
```
LightGBM v3ë„ íŠœë‹í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.
í˜„ì¬ í•˜ì´í¼íŒŒë¼ë¯¸í„°:
- num_leaves: 31
- learning_rate: 0.05
- num_boost_round: 500
... ë“±

XGBoostì™€ ë™ì¼í•œ ë°©í–¥ìœ¼ë¡œ ì¡°ì •í•´ì•¼ í• ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
LightGBM íŠ¹í™” ì¡°ì •:
1. num_leaves: 31 â†’ 63 (ë³µì¡ë„ 2ë°°)
2. learning_rate: 0.05 â†’ 0.03 (ë¯¸ì„¸ ì¡°ì •)
3. num_boost_round: 500 â†’ 800 (í•™ìŠµ ê°•í™”)

ì£¼ì˜ì‚¬í•­:
- num_leavesëŠ” 2^k - 1 í˜•íƒœ ê¶Œì¥
- learning_rate ë‚®ì¶”ë©´ round ì¦ê°€ í•„ìˆ˜
```

**ì¡°ì • ê²°ê³¼:**
```python
# train_model_lgb.py ìˆ˜ì •
params = {
    'num_leaves': 63,              # 31 â†’ 63 (ë³µì¡ë„ ì¦ê°€)
    'learning_rate': 0.03,         # 0.05 â†’ 0.03 (í•™ìŠµë¥  ê°ì†Œ)
    'feature_fraction': 0.7,       # 0.8 â†’ 0.7 (í”¼ì²˜ ìƒ˜í”Œë§ ê°ì†Œ)
    'bagging_fraction': 0.7,       # 0.8 â†’ 0.7 (ë°ì´í„° ìƒ˜í”Œë§ ê°ì†Œ)
    'min_child_samples': 20,       # ì¶”ê°€: ê³¼ì í•© ë°©ì§€
    'reg_alpha': 0.1,              # ì¶”ê°€: L1 ì •ê·œí™”
    'reg_lambda': 0.1,             # ì¶”ê°€: L2 ì •ê·œí™”
}

model_x = lgb.train(
            num_boost_round=800,    # 500 â†’ 800
)

ê²°ê³¼: 18.82m â†’ 18.81m (-0.01m ê°œì„ ) âœ…
```

---

### í”„ë¡¬í”„íŠ¸ 1-3: CatBoost ìœ ì§€ ê²°ì •
**ì¡°ì • ê²°ê³¼:**
```python
# train_model_catboost.py ìˆ˜ì •
params = {
    'iterations': 1000,            # 500 â†’ 1000 (ë°˜ë³µ ì¦ê°€)
    'depth': 10,                   # 8 â†’ 10 (ê¹Šì´ ì¦ê°€)
    'learning_rate': 0.03,         # 0.05 â†’ 0.03 (í•™ìŠµë¥  ê°ì†Œ)
    'l2_leaf_reg': 3,              # ì¶”ê°€: L2 ì •ê·œí™”
    'bagging_temperature': 1,      # ì¶”ê°€: ë°°ê¹… ê°•ë„
    'random_strength': 1,          # ì¶”ê°€: ëœë¤ì„±
}

model_x.fit(
    early_stopping_rounds=100,     # 50 â†’ 100
)

ê²°ê³¼: 18.82m â†’ 18.87m (+0.05m ì¦ê°€) 
```

**ì…ë ¥:**
```
CatBoostëŠ” ì¡°ì • ê²°ê³¼ ê¸°ì¡´ë³´ë‹¤ ë” ì„±ëŠ¥ì´ ë–¨ì–´ì¡ŒìŠµë‹ˆë‹¤.
ì¶”ê°€ íŠœë‹ì´ í•„ìš”í• ê¹Œìš”? ì•„ë‹ˆë©´ ê¸°ì¡´ v3ë¥¼ ìœ ì§€í• ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
CatBoost í˜„ìƒ ë¶„ì„:
- Phase 3 í”¼ì²˜(touchline_proximity)ë¥¼ ì˜ í™œìš©
- ì´ë¯¸ ì•ˆì •ì  ì„±ëŠ¥ (18.82m)
- ê¸°ë³¸ íŒŒë¼ë¯¸í„°ê°€ robust

ê¶Œì¥ì‚¬í•­:
- í˜„ì¬ íŒŒë¼ë¯¸í„° ìœ ì§€
- ì•™ìƒë¸”ì—ì„œ ì—­í•  ì¶©ë¶„
- íŠœë‹ ë¦¬ì†ŒìŠ¤ë¥¼ Optunaë¡œ
```

**ê²°ì •:**
```
CatBoost v3 ìœ ì§€ (18.82m)
â†’ íŠœë‹ ì—†ì´ ë‹¤ìŒ ë‹¨ê³„ë¡œ
```

---

### ìˆ˜ë™ íŠœë‹ ê²°ê³¼

| ëª¨ë¸ | ê¸°ì¡´ v3 | íŠœë‹ í›„ | ê°œì„  |
|------|---------|---------|------|
| XGBoost | 18.91m | **18.87m** | -0.04m âœ… |
| LightGBM | 18.82m | **18.81m** | -0.01m âœ… |
| CatBoost | **18.82m** | 18.87m | ìœ ì§€ |
| **í‰ê· ** | 18.85m | **18.83m** | -0.02m |

---

## Phase 2: Optuna ìë™ íŠœë‹ (LightGBM)

### í”„ë¡¬í”„íŠ¸ 2-1: Optuna ë„ì… ê²°ì •

**ì…ë ¥:**
```
ìˆ˜ë™ íŠœë‹ìœ¼ë¡œ ë¯¸ì„¸ ê°œì„ í–ˆìŠµë‹ˆë‹¤.
Optunaë¡œ ë” ë‚˜ì€ íŒŒë¼ë¯¸í„°ë¥¼ ì°¾ì„ ìˆ˜ ìˆì„ê¹Œìš”?
LightGBMë¶€í„° ì‹œì‘í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
Optuna ì¥ì :
- ìˆ˜ë°± ê°€ì§€ ì¡°í•© ìë™ íƒìƒ‰
- Bayesian Optimization
- ìˆ˜ë™ë³´ë‹¤ 0.1-0.3m ì¶”ê°€ ê°œì„  ê¸°ëŒ€

íƒìƒ‰ ë²”ìœ„ ì œì•ˆ:
- num_leaves: [31, 127]
- learning_rate: [0.01, 0.1]
- num_boost_round: [500, 1500]
- max_depth: [6, 12]
- min_child_samples: [10, 50]

ëª©í‘œ: 18.81m â†’ 18.6-18.7m
```

**êµ¬í˜„:**
```python
# train_model_lgb_optuna.py ìƒì„±
def objective(trial):
    params = {
        'objective': 'regression',
        'metric': 'rmse',
        'boosting_type': 'gbdt',
        'verbosity': -1,
        'random_state': 42,
        
        # íŠœë‹í•  íŒŒë¼ë¯¸í„°
        'num_leaves': trial.suggest_int('num_leaves', 20, 100),
        'max_depth': trial.suggest_int('max_depth', 3, 12),
        'learning_rate': trial.suggest_float('learning_rate', 0.01, 0.1),
        'n_estimators': trial.suggest_int('n_estimators', 300, 1000, step=100),
        
        'min_child_samples': trial.suggest_int('min_child_samples', 10, 50),
        'subsample': trial.suggest_float('subsample', 0.6, 0.9),
        'colsample_bytree': trial.suggest_float('colsample_bytree', 0.6, 0.9),
        
        'reg_alpha': trial.suggest_float('reg_alpha', 0, 1),
        'reg_lambda': trial.suggest_float('reg_lambda', 0, 1),
    }
    # ... í•™ìŠµ ë° CV í‰ê°€

# íƒìƒ‰
study.optimize(
        lambda trial: objective(trial, X, y_x, y_y),
        n_trials=50,  # 50íšŒ íƒìƒ‰
        show_progress_bar=True
)
```

**Optuna íƒìƒ‰ ê²°ê³¼:**
```
ìµœì  íŒŒë¼ë¯¸í„° :
- num_leaves: 60
- max_depth: 11
- learning_rate: 0.016372168392100903
- n_estimators: 800
- min_child_samples: 40
- subsample: 0.8108675367559376
- colsample_bytree: 0.7373019773419904
- reg_alpha: 0.805562012441096
- reg_lambda: 0.8340652299249196

CV RMSE: 18.75m (-0.06m ê°œì„ !) âœ…
```

---

### í”„ë¡¬í”„íŠ¸ 2-2: Optuna ê²°ê³¼ ë¶„ì„

**ì…ë ¥:**
```
Optunaë¡œ 18.75mì„ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤!
ì´ì œ ì•™ìƒë¸”ì— ì ìš©í•˜ë©´ LBê°€ ì–¼ë§ˆë‚˜ ê°œì„ ë ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
ì˜ˆìƒ ì‹œë‚˜ë¦¬ì˜¤:

ë‚™ê´€ì  (í™•ë¥  30%):
- LB 16.98m â†’ 16.92m (-0.06m)
- Optuna íš¨ê³¼ê°€ ì•™ìƒë¸”ì—ë„ ì „ë‹¬

í˜„ì‹¤ì  (í™•ë¥  50%):
- LB 16.98m â†’ 16.95m (-0.03m)
- ì¼ë¶€ íš¨ê³¼ ì „ë‹¬

ë¹„ê´€ì  (í™•ë¥  20%):
- LB 16.98m â†’ 16.99m (ì•…í™”)
- ì•™ìƒë¸” ë‹¤ì–‘ì„± ì†ì‹¤

ê¶Œì¥ì‚¬í•­:
- ê¸°ì¡´ ê°€ì¤‘ì¹˜ [0.2, 0.4, 0.4] ìœ ì§€
- LB í…ŒìŠ¤íŠ¸ 1íšŒ ì§„í–‰
- ê²°ê³¼ì— ë”°ë¼ ê°€ì¤‘ì¹˜ ì¬ì¡°ì •
```

---

## Phase 3: ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ìµœì í™”

### ì‹¤í—˜ ì„¤ê³„

**ê°€ì„¤:**
> Optuna LGB(18.75m)ê°€ ë” ì¢‹ìœ¼ë¯€ë¡œ ë¹„ì¤‘ì„ ë†’ì´ë©´ ì•™ìƒë¸”ë„ ê°œì„ ë  ê²ƒ

**í…ŒìŠ¤íŠ¸ ê°€ì¤‘ì¹˜ (6ê°œ ì¡°í•©):**
```python
# ì´ˆê¸° ê³„íš
[0.25, 0.35, 0.4]   # ê· í˜•í˜•
[0.2, 0.35, 0.45]   # Cat ê°•í™”
[0.3, 0.2, 0.5]     # Cat ê·¹ëŒ€í™”

# ì¶”ê°€ ì œì•ˆ (Optuna LGB í™œìš©)
[0.15, 0.45, 0.4]   # LGB ì¤‘ì‹¬ â­
[0.25, 0.45, 0.3]   # LGB ê°•í™”
[0.2, 0.5, 0.3]     # LGB ê·¹ëŒ€í™”
```

**ì œì•½ì‚¬í•­:**
- í•˜ë£¨ ì œì¶œ ì œí•œ 5íšŒ
- 3ê°œë§Œ ìš°ì„  í…ŒìŠ¤íŠ¸

---

### í”„ë¡¬í”„íŠ¸ 3-1: ìš°ì„ ìˆœìœ„ ì„ íƒ

**ì…ë ¥:**
```
6ê°œ ì¤‘ 3ê°œë¥¼ ê³¨ë¼ì•¼ í•©ë‹ˆë‹¤.
ì–´ë–¤ ì¡°í•©ì´ ê°€ì¥ ì •ë³´ ê°€ì¹˜ê°€ ë†’ì„ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
ì¶”ì²œ 3ê°œ (ìš°ì„ ìˆœìœ„ìˆœ):

1ìˆœìœ„: [0.15, 0.45, 0.4] â­â­â­
- Optuna LGB íš¨ê³¼ ì§ì ‘ ê²€ì¦
- ê°€ì¥ ê¶ê¸ˆí•œ ê°€ì„¤

2ìˆœìœ„: [0.2, 0.5, 0.3] â­â­
- LGB ê·¹ëŒ€í™” í…ŒìŠ¤íŠ¸
- 1ìˆœìœ„ ê²°ê³¼ ë³´ì™„

3ìˆœìœ„: [0.2, 0.35, 0.45] â­
- Cat ê°•í™” ëŒ€ì¡°êµ°
- ê¸°ì¡´ ìµœì ê³¼ ë¹„êµ
```

---

### ì‹¤í—˜ ê²°ê³¼

| ê°€ì¤‘ì¹˜ | LB Score | vs ê¸°ì¡´ | ìˆœìœ„ |
|--------|----------|---------|------|
| **[0.2, 0.4, 0.4] (ê¸°ì¡´)** | **16.9724** | baseline | ğŸ¥‡ | (Optuna LGB ì‚¬ìš© X)
| [0.15, 0.45, 0.4] | 16.9778 | +0.0054 âŒ | 3ìœ„ |
| [0.2, 0.5, 0.3] | 16.9905 | +0.0181 âŒ | 2ìœ„ |
| [0.2, 0.35, 0.45] | 16.9776 | +0.0052 âŒ | 1ìœ„ (ì˜¤ëŠ˜ ìµœê³ ) |

**ì¶©ê²©ì  ë°œê²¬:**
```
âŒ Optuna LGB ë¹„ì¤‘ ì¦ê°€ â†’ ëª¨ë‘ ì„±ëŠ¥ ì•…í™”!
âœ… ê¸°ì¡´ ê°€ì¤‘ì¹˜ [0.2, 0.4, 0.4]ê°€ ì—¬ì „íˆ ìµœê³ 
```

---

### í”„ë¡¬í”„íŠ¸ 3-2: ì‹¤íŒ¨ ì›ì¸ ë¶„ì„

**ì…ë ¥:**
```
Optuna LGB(18.75m)ëŠ” ê°œë³„ ì„±ëŠ¥ì´ ê°€ì¥ ì¢‹ì€ë°
ì•™ìƒë¸”ì—ì„œëŠ” ì˜¤íˆë ¤ ì•…í™”ë©ë‹ˆë‹¤. ì™œ ê·¸ëŸ´ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
ì›ì¸ ë¶„ì„:

1. ê³¼ìµœì í™” (Overfitting to CV)
   - OptunaëŠ” CV ê¸°ì¤€ ìµœì í™”
   - Test ë¶„í¬ì™€ ì°¨ì´ ê°€ëŠ¥ì„±

2. ì•™ìƒë¸” ë‹¤ì–‘ì„± ì†ì‹¤
   - Optuna LGBê°€ ë„ˆë¬´ "ë˜‘ë˜‘í•´ì§"
   - ë‹¤ë¥¸ ëª¨ë¸ê³¼ ì¤‘ë³µ í•™ìŠµ
   - ë³´ì™„ íš¨ê³¼ ê°ì†Œ

3. ê°œë³„ ì„±ëŠ¥ â‰  ì•™ìƒë¸” ê¸°ì—¬ë„
   - ì•™ìƒë¸”ì€ "ë‹¤ë¦„"ì´ ì¤‘ìš”
   - "ë” ì¢‹ìŒ"ì´ ì•„ë‹ˆë¼ "ë‹¤ë¦„"

ë¹„ìœ :
íŒ€ì—ì„œ ê°€ì¥ ë˜‘ë˜‘í•œ ì‚¬ëŒë§Œ 3ëª… ë½‘ìœ¼ë©´
íŒ€ì›Œí¬ê°€ ì˜¤íˆë ¤ ë‚˜ë¹ ì§ˆ ìˆ˜ ìˆìŒ
```

---

### í”„ë¡¬í”„íŠ¸ 3-3: ëŒ€ì‘ ì „ëµ

**ì…ë ¥:**
```
ë‚¨ì€ ì œì¶œ 2íšŒì…ë‹ˆë‹¤.
ë‹¤ë¥¸ ê°€ì¤‘ì¹˜ë¥¼ ì‹œë„í• ê¹Œìš”?
ì•„ë‹ˆë©´ ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ì „í™˜í• ê¹Œìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
ì¶”ì²œ: ì „ëµ ì „í™˜! ğŸ”„

ì˜µì…˜ A: Optuna LGB ì œê±° (ì¶”ì²œ â­â­â­)
ê°€ì„¤: ê¸°ì¡´ LGB v3ê°€ ì•™ìƒë¸”ì— ë” ì í•©
ì‹¤í—˜: [XGB v3, LGB v3(Optuna ì•„ë‹˜), Cat v3]
ì˜ˆìƒ: 16.96-16.98m (í˜„ì¬ ìµœê³ ì™€ ë¹„ìŠ·í•˜ê±°ë‚˜ ë‚˜ìŒ)

ê·¼ê±°:
- ì•™ìƒë¸”ì€ ë‹¤ì–‘ì„± > ê°œë³„ ì„±ëŠ¥
- ê¸°ì¡´ v3 LGBê°€ ë” ë³´ì™„ì 
- OptunaëŠ” CVì— ê³¼ì í•© ê°€ëŠ¥ì„±

ì˜µì…˜ B: 2-Model ì•™ìƒë¸” (XGB + Catë§Œ)
ê°€ì„¤: LGBê°€ ë…¸ì´ì¦ˆë¼ë©´ ì œì™¸
ì‹¤í—˜: [XGB v3, Cat v3]
ì˜ˆìƒ: 16.95-17.00m

ì˜µì…˜ C: ë‚˜ë¨¸ì§€ ê°€ì¤‘ì¹˜ ([0.25, 0.35, 0.4] ë“±)
ì˜ˆìƒ ê°œì„ : 0.01m ë¯¸ë§Œ (ë¹„ì¶”ì²œ)
```

---

## Phase 4: Optuna LGB ì œê±° ì‹¤í—˜

### í”„ë¡¬í”„íŠ¸ 4-1: ê¸°ì¡´ LGB v3 ë³µê·€

**ì…ë ¥:**
```
ì˜µì…˜ Aë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
ê¸°ì¡´ LGB v3ë¡œ ëŒì•„ê°€ì„œ ì•™ìƒë¸”ì„ ë‹¤ì‹œ êµ¬ì„±í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
ì½”ë“œë¥¼ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í•˜ë‚˜ìš”?
```

**Claude ì‘ë‹µ:**
```python
# predict_ensemble.py ìˆ˜ì •
MODEL_PATHS = [
    MODEL_DIR / 'baseline_model_v3.pkl',   # XGBoost v3 (íŠœë‹)
    MODEL_DIR / 'lgb_model_v3.pkl',        # LightGBM v3 (ìˆ˜ë™ íŠœë‹) â­
    MODEL_DIR / 'catboost_model_v3.pkl',   # CatBoost v3
]
weights = [0.2, 0.4, 0.4]  # ê¸°ì¡´ ìµœì  ê°€ì¤‘ì¹˜
output_name = 'submission_ensemble_v3_tuned.csv'
```

**ì‹¤í—˜ ê²°ê³¼:**
```
LB Score: 16.9724 (ê¸°ì¡´ê³¼ ë™ì¼!)

ê²°ë¡ :
- ê¸°ì¡´ ì½”ë“œë¡œì˜ íšŒê·€
- ê°€ì¤‘ì¹˜ ì°¨ì´ê°€ ê·¹íˆ ë¯¸ë¯¸í–ˆë˜ ê²ƒ
- ê¸°ì¡´ ì¡°í•©ì´ ì´ë¯¸ ìµœì í™”ë¨
```

---

### í”„ë¡¬í”„íŠ¸ 4-2: ê²°ê³¼ í•´ì„

**ì…ë ¥:**
```
Optuna LGB ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ê¸°ì¡´ LGB ëª¨ë¸ì´ ì•™ìƒë¸” ì‹œ ë” ì ìˆ˜ê°€ ì¢‹ìŠµë‹ˆë‹¤.
ì´ê²Œ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?
```

**Claude ì‘ë‹µ ìš”ì•½:**
```
í•´ì„:

1. ì•™ìƒë¸”ì˜ ì•ˆì •ì„± ì¦ëª… âœ…
   - ê°œë³„ ëª¨ë¸ ë³€í™”ì— robust
   - ê°€ì¤‘ì¹˜ê°€ ì˜ ê· í˜•ì¡í˜€ ìˆìŒ

2. ê°€ì¤‘ì¹˜ ìµœì í™” í•œê³„ í™•ì¸
   - [0.2, 0.4, 0.4]ê°€ ì´ë¯¸ ìµœì 
   - ë¯¸ì„¸ ì¡°ì •(Â±0.05)ìœ¼ë¡  ê°œì„  ë¶ˆê°€

3. ë‹¤ìŒ ë°©í–¥ì„±
   - í”¼ì²˜ ê°œì„ ì´ ë” íš¨ê³¼ì 
   - ë˜ëŠ” ìƒˆë¡œìš´ ëª¨ë¸ ì¶”ê°€ (4-model)
   - í•˜ì´í¼íŒŒë¼ë¯¸í„°ë³´ë‹¤ ë°ì´í„° í’ˆì§ˆ

ê²°ë¡ :
"ê°€ì¤‘ì¹˜ ì‹¤í—˜ ì¢…ë£Œ, ë‹¤ìŒ ë‹¨ê³„ë¡œ!"
```

---

## ìµœì¢… ì •ë¦¬

### í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ê²°ê³¼

| ë‹¨ê³„ | ë°©ë²• | XGB | LGB | Cat | í‰ê·  |
|------|------|-----|-----|-----|------|
| **Phase 3 (ê¸°ì¡´)** | - | 18.91m | 18.82m | 18.82m | 18.85m |
| **ìˆ˜ë™ íŠœë‹** | ê²½í—˜ ê¸°ë°˜ | 18.87m | 18.81m | 18.87m | 18.83m |
| **Optuna íŠœë‹** | ìë™ íƒìƒ‰ | - | 18.76m | - | - |

**ê°œì„ :** -0.02m (ìˆ˜ë™), -0.05m (Optuna)

---

### ì•™ìƒë¸” ê°€ì¤‘ì¹˜ ì‹¤í—˜ ê²°ê³¼

| ê°€ì¤‘ì¹˜ [XGB, LGB, Cat] | LB Score | ê°œì„  | ë¹„ê³  |
|------------------------|----------|------|------|
| **[0.2, 0.4, 0.4] (ê¸°ì¡´)** | **16.9724** | baseline | ğŸ¥‡ ìµœê³  | (Optuna LGB ì‚¬ìš© X)
| [0.15, 0.45, 0.4] | 16.9778 | +0.0054 | Optuna LGB 45% |
| [0.2, 0.5, 0.3] | 16.9905 | +0.0181 | Optuna LGB 50% |
| [0.2, 0.35, 0.45] | 16.9776 | +0.0052 | Cat 45% |
| [0.2, 0.4, 0.4] (ì›ë˜ LGB) | 16.9724 | 0.0000 | ê¸°ì¡´ê³¼ ë™ì¼ |

**í•µì‹¬ ë°œê²¬:**
- âŒ Optuna LGB ë¹„ì¤‘ ì¦ê°€ â†’ ëª¨ë‘ ì„±ëŠ¥ ì•…í™”
- âœ… ê¸°ì¡´ ê°€ì¤‘ì¹˜ê°€ ì´ë¯¸ ìµœì 
- âš ï¸ ê°œë³„ ì„±ëŠ¥ â†‘ â‰  ì•™ìƒë¸” ê¸°ì—¬ë„ â†‘

---

## í•µì‹¬ í•™ìŠµ

### 1. í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ì˜ í•œê³„
```
ìˆ˜ë™ íŠœë‹: -0.02m
Optuna: -0.05m (ê°œë³„ ëª¨ë¸)

BUT ì•™ìƒë¸”: Â±0.00m (ë³€í™” ì—†ìŒ)

â†’ ì¼ì • ìˆ˜ì¤€ ì´ìƒì—ì„œëŠ” íŠœë‹ë³´ë‹¤ í”¼ì²˜/ë°ì´í„°ê°€ ì¤‘ìš”
```

---

### 2. ì•™ìƒë¸”ì˜ ì—­ì„¤
```
ê°œë³„ ì„±ëŠ¥: Optuna LGB (18.76m) > ê¸°ì¡´ LGB (18.81m)
ì•™ìƒë¸” ê¸°ì—¬: ê¸°ì¡´ LGB = Optuna LGB

ì™œ?
- ì•™ìƒë¸”ì€ "ë‹¤ì–‘ì„±"ì´ í•µì‹¬
- ê³¼ìµœì í™”ëœ ëª¨ë¸ì€ ì˜¤íˆë ¤ ë°©í•´
- "ë³´ì™„ ê´€ê³„" > "ê°œë³„ ìš°ìˆ˜ì„±"
```

**ë¹„ìœ :**
> ì˜¤ì¼€ìŠ¤íŠ¸ë¼ì—ì„œ ê°€ì¥ ì˜ ì¹˜ëŠ” ë°”ì´ì˜¬ë¦°ë§Œ 3ëª… ë½‘ìœ¼ë©´  
> ì²¼ë¡œì™€ íŠ¸ëŸ¼í«ì´ ì—†ì–´ì„œ ì „ì²´ ìŒì•…ì´ ë‚˜ë¹ ì§

---

### 3. ì‹¤í—˜ì˜ ê°€ì¹˜
```
ì‹¤íŒ¨í•œ ì‹¤í—˜ë„ ì¤‘ìš”í•œ ì •ë³´:

âœ… ê°€ì¤‘ì¹˜ ìµœì í™” ë¶ˆí•„ìš” í™•ì¸
âœ… ì•™ìƒë¸” ì•ˆì •ì„± ê²€ì¦
âœ… ë‹¤ìŒ ë°©í–¥ì„± ëª…í™•í™”

â†’ "ì‹¤íŒ¨"ë„ í”„ë¡œì íŠ¸ ì§„ì „!
```

---

## ë‹¤ìŒ ë‹¨ê³„

### ë‹¨ê¸° (ë‹¤ìŒ ì‘ì—…)
1. âœ… ë¬¸ì„œí™” ì™„ë£Œ (í˜„ì¬)
2. â³ Phase 4 í”¼ì²˜ ê°œë°œ
   - ì„ ìˆ˜ë³„ í†µê³„ í”¼ì²˜
   - íŒ€ë³„ ì „ìˆ  í”¼ì²˜
   - ê²½ê¸° íë¦„ í”¼ì²˜

### ì¤‘ê¸°
- [ ] XGBoost, CatBoost Optuna íŠœë‹
- [ ] Stacking ì•™ìƒë¸”
- [ ] 4-model ì•™ìƒë¸” (Neural Net ì¶”ê°€?)

### ì¥ê¸°
- [ ] ë”¥ëŸ¬ë‹ ëª¨ë¸ (LSTM, Transformer)
- [ ] ì‹¤ì‹œê°„ ì˜ˆì¸¡ ì‹œìŠ¤í…œ
- [ ] ë„ë©”ì¸ ì „ë¬¸ê°€ í”¼ë“œë°± ë°˜ì˜

---

## íšŒê³ 

### ì˜í•œ ì 
1. âœ… ì²´ê³„ì  ì‹¤í—˜ ì„¤ê³„ (ìˆ˜ë™ â†’ Optuna â†’ ê°€ì¤‘ì¹˜)
2. âœ… ì‹¤íŒ¨ ë¹ ë¥´ê²Œ ì¸ì • (ê°€ì¤‘ì¹˜ ì‹¤í—˜ ì¢…ë£Œ)
3. âœ… ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •
4. âœ… ì œì¶œ íšŸìˆ˜ íš¨ìœ¨ì  ì‚¬ìš©

### ì•„ì‰¬ìš´ ì 
1. âš ï¸ Optunaê°€ ì•™ìƒë¸”ì— ì•…ì˜í–¥ ë¯¸ì¹  ì¤„ ëª°ëìŒ
2. âš ï¸ ê°€ì¤‘ì¹˜ ì‹¤í—˜ì— 3íšŒ ì œì¶œ ì†Œì§„
3. âš ï¸ ì´ˆê¸°ì— "ë‹¤ì–‘ì„± > ì„±ëŠ¥" ì›ì¹™ ê°„ê³¼

### ë°°ìš´ ì 
> **"ê°œë³„ ìµœì  â‰  ì „ì²´ ìµœì "**
> 
> ì•™ìƒë¸”ì—ì„œëŠ” ëª¨ë¸ ê°„ ë³´ì™„ì„±ì´  
> ê°œë³„ ì„±ëŠ¥ë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤.

---

## ì°¸ê³  ìë£Œ

### ì½”ë“œ íŒŒì¼
- `src/models/train_model.py` (XGBoost íŠœë‹)
- `src/models/train_model_lgb.py` (LightGBM ìˆ˜ë™)
- `src/models/train_model_lgb_optuna.py` (LightGBM Optuna)
- `src/models/predict_ensemble.py` (ì•™ìƒë¸” ì˜ˆì¸¡)

### ëª¨ë¸ íŒŒì¼
- `models/baseline_model_v3.pkl` (íŠœë‹ í›„ XGBoost)
- `models/lgb_model_v3.pkl` (ìˆ˜ë™ íŠœë‹ LightGBM)
- `models/lgb_model_v3_optuna.pkl` (Optuna LightGBM)
- `models/catboost_model_v3.pkl` (CatBoost)

### ì œì¶œ íŒŒì¼
- `submissions/submission_ensemble_lgb_45.csv` (16.9778)
- `submissions/submission_ensemble_lgb_50.csv` (16.9905)
- `submissions/submission_ensemble_cat_45.csv` (16.9776)
- `submissions/submission_ensemble_v3_original_lgb.csv` (16.9724)
